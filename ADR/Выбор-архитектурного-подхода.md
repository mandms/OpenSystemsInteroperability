# ADR - Выбор архитектурного подхода

Дата: 17.09.2024

Статус: Принято

## Контекст


При разработке приложения для обмена фотографиями , аналогичного Instagram, необходимо создать высоконагруженную платформу, способную обрабатывать большое количество запросов одновременно. 
Приложение должно поддерживать хранение и мгновенную доставку фото, а также взаимодействие пользователей через лайки и комментарии.

Основные задачи включают обеспечение высокой доступности и отказоустойчивости, масштабируемости для обработки роста числа активных пользователей и контента.

Ограничения включают строгие требования к безопасности личных данных пользователей и защите их контента от несанкционированного доступа.

## Рассматриваемые варианты

Бессерверная архитектура: Архитектура, в которой разработчики не управляют серверами напрямую, а используют облачные функции, автоматически масштабируемые в зависимости от нагрузки.

Серверная архитектура: Архитектура, где разработчик полностью контролирует серверную инфраструктуру, включая установку, настройку и обслуживание серверов.


## Решение


Был выбран серверный подход.

## Обоснование

Серверный подход был выбран, поскольку он позволяет обеспечить стабильную и предсказуемую работу при высокой нагрузке, 
а также даёт возможность разворачивать сложные системы, требующие постоянного мониторинга. 
Альтернативы, такие как бессерверная архитектура или платформы, рассматривались, 
но они оказались менее подходящими для данного случая из-за высоких требований к производительности и строгих требований к безопасности.
Для приложений, обрабатывающих конфиденциальные данные, серверный подход позволяет реализовать более надежные механизмы безопасности

## Последствия


Плюсы:
 - Контроль и кастомизация: возможность детальной настройки серверов под конкретные задачи, что важно для сложных или узкоспециализированных приложений.
 - Производительность: предсказуемое распределение ресурсов, возможность контроля загрузки серверов.
 - Безопасность: прямой контроль над мерами безопасности, которые можно настраивать в зависимости от потребностей приложения.
   
Минусы:
 - Высокая стоимость: Требует значительных инвестиций в оборудование, программное обеспечение и обслуживание.
 - Зависимость от инфраструктуры: Привязка к конкретной серверной инфраструктуре может ограничивать гибкость и переносимость приложения.

Риски:
 - Сбой оборудования: Регулярное резервное копирование данных, использование отказоустойчивых систем хранения и мониторинг состояния оборудования помогут минимизировать риски.
 - Перегрузка сервера: Необходимо правильно спроектировать архитектуру приложения и использовать механизмы автомасштабирования для предотвращения перегрузок.


## Затронутые области

Этим решением затронуты следующие части системы:
 - Инфраструктура (серверы, базы данных для хранения контента и пользовательской информации, системы безопасности и мониторинга).


## История

Решения были приняты 17 сентября. Обсуждение касалось вопросов развертывании, масштабируемости и безопасности данных пользователей.
В итоге была выбрана серверная архитектура как наиболее подходящая для создания высоконагруженного продукта фотохостинга.
