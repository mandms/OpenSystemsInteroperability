# ADR - **Выбор фреймворка для разработки клиента**

Дата: 24.09.2024
Статус: Принято

## Контекст

Для разработки клиентской части приложения для обмена фотографиями, аналогичного Instagram, был выбран язык TypeScript. Это решение позволяет обеспечить высокую читаемость, предсказуемость и надежность кода за счет статической типизации, что критически важно для масштабируемого проекта с большим количеством функциональных модулей.
Основные задачи клиентской части включают обеспечение интуитивного и отзывчивого интерфейса, быструю загрузку и отображение фотографий, а также реализацию взаимодействия пользователей через лайки и комментарии. Приложение должно работать стабильно и эффективно даже при большом количестве пользователей и активных сессий. 
Учитывая эти требования, выбор подходящего фреймворка позволит создать мощное и удобное клиентское приложение, которое будет легко поддерживать и масштабировать по мере роста числа пользователей и добавления новых возможностей.

**Команда имеет опыт разработки на TypeScript и React**
## Рассматриваемые варианты

- Native (Android/IOS/WEB) - Подход предполагает использование родных языков и инструментов разработки для каждой платформы, что увеличивает производительность, но увеличивает затраты на разработку и сложности внедрения новых функций для разных платформ.   
- React - Один из самых популярных фреймворков для разработки веб-приложений на TypeScript, но не предусматривает разработку под IOS и Android.
- React Native - Фреймворк для кроссплатформенной разработки мобильных приложений на языке JavaScript/TypeScript, основанный на React. Позволяет использовать один код для Android и iOS с использованием нативных компонентов.
- Flutter - Фреймворк от Google для кроссплатформенной разработки мобильных и веб-приложений на языке Dart. Предполагает единый код для Android, iOS и веб-приложений, но из-за относительно небольшой популярности Dart и Flutter по сравнению с другими технологиями, могут возникнуть сложности для поиска опытных специалистов.
## Решение

Был выбран React Native.

## Обоснование

**React Native** был выбран для разработки мобильного приложения фотохостинга по следующим причинам:
	- позволяет создавать одно приложение, которое будет работать как на iOS, так и на Android. Это значительно сокращает время разработки и уменьшает затраты на поддержку двух отдельных нативных кодовых баз.
	- имеет большое сообщество разработчиков и широкий набор готовых компонентов и библиотек, которые можно использовать для разработки приложений. Это позволяет быстро находить решения типичных задач, таких как навигация, управление состоянием или работа с мультимедиа.

### Почему не были выбраны другие варианты:
#### 1. Native (Android/iOS/WEB)

- **Высокие затраты на разработку и поддержку:** Разработка для каждой платформы (Android, iOS и веб) требует использования разных языков программирования и инструментов. Это означает необходимость содержать несколько отдельных команд разработчиков, что увеличивает затраты на разработку и поддержку.
- **Длительное внедрение новых функций:** Каждую новую функцию или изменение нужно реализовать отдельно для каждой платформы, что увеличивает время на внедрение и тестирование. Это создает проблемы синхронизации релизов и ведет к задержкам в развитии продукта.
#### 2. React
- **Нет поддержки мобильных платформ (Android и iOS):** React предназначен для разработки веб-приложений и не поддерживает нативные компоненты и функции мобильных устройств.
- **Ограничения в доступе к нативным возможностям:** Платформы мобильных устройств предоставляют ряд нативных возможностей, таких как работа с камерой, датчиками, уведомлениями и т. д., которые невозможно реализовать с помощью чистого React. Это снижает функциональность и ограничивает возможности приложения.

#### 4. Flutter
- **Меньшая популярность и экосистема:** Dart, язык, на котором основан Flutter, менее популярен, чем JavaScript или TypeScript, используемые в React и React Native. Это может создать сложности с наймом опытных специалистов и задержки в разработке.

**React Native** был выбран как оптимальное решение, поскольку он обеспечивает кроссплатформенную разработку с использованием общего кода для Android и iOS, поддерживает нативные компоненты и функции, а также имеет большую экосистему и активное сообщество разработчиков.

## Последствия

Положительные последствия:
	- Сокращение затрат на разработку и поддержку: Использование общего кода для Android и iOS сокращает время и стоимость разработки, так как не требуется создавать и поддерживать две отдельные кодовые базы. Это позволит быстрее выпускать обновления и исправления, что положительно скажется на развитии продукта.
	- Проще поддерживать и тестировать: Обновления и новые функции можно разрабатывать и тестировать сразу для обеих платформ, что снижает вероятность ошибок и несоответствий между версиями приложения для iOS и Android.
	
Отрицательные последствия:
	Ограниченная производительность в некоторых случаях: При выполнении ресурсоемких задач, таких как сложные анимации или обработка изображений, может возникнуть ограничение производительности по сравнению с нативными приложениями. Это может повлиять на скорость работы и отзывчивость интерфейса, особенно на устройствах со слабым оборудованием.

### Риски

1. Риск снижения производительности:
	- **Проблема:** Обработка сложных анимаций и больших объёмов данных, таких как загрузка и редактирование изображений, может негативно сказаться на скорости работы приложения, особенно на устройствах с ограниченными ресурсами.
	- **Решение:** Оптимизация ключевых участков кода, тщательное тестирование на различных устройствах. Это позволит выявить и устранить узкие места, обеспечивая плавную работу приложения и высокую отзывчивость интерфейса
	
2. Риск задержек при внедрении новых возможностей ОС:
	- **Проблема:** React Native может отставать в поддержке новых функций и возможностей операционных систем iOS и Android по сравнению с нативной разработкой.
	- **Решение:** Постоянный мониторинг обновлений платформ и планирование разработки с учетом возможных задержек в реализации новых возможностей.

## Затронутые области

Были затронуты следующие области:
	- Приложения под IOS и Android
	- Взаимодействие с бекендом

## История

Решение было принято 24 сентября. Рассматривались такие требования, как: скорости разработки и возможности кроссплатформенной поддержки. Учитывая плюсы и минусы различных фреймворков, был выбран React Native, как наиболее подходящий для разработки клиентской части фотохостинга.